From 4dc909d81dcb007114be60f4846ddcb17d22b61f Mon Sep 17 00:00:00 2001
From: Pradeep Sriram <pradeep.sriram@amlogic.com>
Date: Mon, 9 Nov 2020 17:49:52 -0800
Subject: [PATCH] RDK: fix platco issues

PD#SWPL-36538

Problem: compile failed due to header duplicate

Solution: Add linker flags, fix header

Verify: Build pass

Change-Id: I8f9cbc530bc2e14ebf1b8b18aafea9070ba265d8
Signed-off-by: Pradeep Sriram <pradeep.sriram@amlogic.com>
---
 Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index 18fd7de..8d49df1 100644
--- a/Makefile
+++ b/Makefile
@@ -4,7 +4,7 @@
 #
 ################################################################################
 LOCAL_PATH = $(shell pwd)
-LDFLAGS += -lstdc++ -lpthread -lz -ldl -lrt -L$(STAGING_DIR)/usr/lib
+LDFLAGS += -Wl,--no-as-needed -lstdc++ -lpthread -lz -ldl -lrt -L$(STAGING_DIR)/usr/lib
 CFLAGS += -Wall -Wno-unknown-pragmas -Wno-format \
           -O3 -fexceptions -fnon-call-exceptions -D_GNU_SOURCE -I$(STAGING_DIR)/usr/include
 
-- 
2.17.1

